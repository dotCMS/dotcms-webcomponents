import{r as t,c as s,h as i,H as e,g as a}from"./p-ca5d1561.js";import{a as h,c as r,h as n,b as o}from"./p-3163a9f0.js";import{c as d}from"./p-a2039f2e.js";import{g as m,s as c}from"./p-aff2a700.js";const l=class{constructor(i){t(this,i),this.dotValueChange=s(this,"dotValueChange",7),this.dotStatusChange=s(this,"dotStatusChange",7),this.value="",this.name="",this.label="",this.hint="",this.required=!1,this.requiredMessage="This field is required",this.validationMessage="The field doesn't comply with the specified format",this.disabled=!1,this.min="",this.max="",this.step="1"}async reset(){this.el.querySelector("dot-input-calendar").reset()}componentWillLoad(){this.validateProps()}componentDidLoad(){const t=["dottype"],s=this.el.querySelector('input[type="date"]');setTimeout(()=>{const i=m(Array.from(this.el.attributes),t);c(s,i)},0)}minWatch(){this.min=d(this,"min","date")}maxWatch(){this.max=d(this,"max","date")}emitValueChange(t){t.stopImmediatePropagation();const s=t.detail;this.value=s.value,this.dotValueChange.emit(s)}emitStatusChange(t){t.stopImmediatePropagation();const s=t.detail;this.classNames=h(s.status,s.status.dotValid,this.required),this.setErrorMessageElement(s),this.dotStatusChange.emit({name:s.name,status:s.status})}render(){return i(e,{class:Object.assign({},this.classNames)},i("dot-label",{label:this.label,required:this.required,name:this.name},i("dot-input-calendar",{"aria-describedby":n(this.hint),tabIndex:this.hint?0:null,disabled:this.disabled,type:"date",name:this.name,value:this.value,required:this.required,min:this.min,max:this.max,step:this.step})),r(this.hint),this.errorMessageElement)}validateProps(){this.minWatch(),this.maxWatch()}setErrorMessageElement(t){this.errorMessageElement=o(!t.status.dotValid&&!t.status.dotPristine,this.getErrorMessage(t))}getErrorMessage(t){return this.value?t.isValidRange?"":this.validationMessage:this.requiredMessage}get el(){return a(this)}static get watchers(){return{min:["minWatch"],max:["maxWatch"]}}};l.style="";export{l as dot_date}