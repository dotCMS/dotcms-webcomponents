import{r as t,c as e,h as s,g as i}from"./p-ca5d1561.js";const l={key:"",value:""},r=class{constructor(s){t(this,s),this.add=e(this,"add",7),this.lostFocus=e(this,"lostFocus",7),this.disabled=!1,this.addButtonLabel="Add",this.keyPlaceholder="",this.valuePlaceholder="",this.keyLabel="Key",this.valueLabel="Value",this.inputs=Object.assign({},l)}render(){const t=this.isButtonDisabled();return s("form",{onSubmit:this.addKey.bind(this)},s("label",null,this.keyLabel,s("input",{disabled:this.disabled,name:"key",onBlur:t=>this.lostFocus.emit(t),onInput:t=>this.setValue(t),placeholder:this.keyPlaceholder,type:"text",value:this.inputs.key})),s("label",null,this.valueLabel,s("input",{disabled:this.disabled,name:"value",onBlur:t=>this.lostFocus.emit(t),onInput:t=>this.setValue(t),placeholder:this.valuePlaceholder,type:"text",value:this.inputs.value})),s("button",{class:"key-value-form__save__button",type:"submit",disabled:t},this.addButtonLabel))}isButtonDisabled(){return!this.isFormValid()||this.disabled||null}isFormValid(){return!(!this.inputs.key.length||!this.inputs.value.length)}setValue(t){t.stopImmediatePropagation();const e=t.target;this.inputs=Object.assign(Object.assign({},this.inputs),{[e.name]:e.value.toString()})}addKey(t){t.preventDefault(),t.stopImmediatePropagation(),this.inputs.key&&this.inputs.value&&(this.add.emit(this.inputs),this.clearForm(),this.focusKeyInputField())}clearForm(){this.inputs=Object.assign({},l)}focusKeyInputField(){this.el.querySelector('input[name="key"]').focus()}get el(){return i(this)}};r.style="key-value-form form{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}key-value-form form button{margin:0}key-value-form form input{margin:0 1rem 0 0.5rem}key-value-form form label{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1}key-value-form form label input{-ms-flex-positive:1;flex-grow:1}";const n=class{constructor(s){t(this,s),this.delete=e(this,"delete",7),this.items=[],this.disabled=!1,this.buttonLabel="Delete",this.emptyMessage="No values"}render(){return s("table",null,s("tbody",null,this.renderRows(this.items)))}onDelete(t){this.delete.emit(t)}getRow(t,e){return s("tr",null,s("td",null,s("button",{"aria-label":`${this.buttonLabel} ${t.key}, ${t.value}`,disabled:this.disabled||null,onClick:()=>this.onDelete(e),class:"dot-key-value__delete-button"},this.buttonLabel)),s("td",null,t.key),s("td",null,t.value))}renderRows(t){return this.isValidItems(t)?t.map((t,e)=>this.getRow(t,e)):this.getEmptyRow()}getEmptyRow(){return s("tr",null,s("td",null,this.emptyMessage))}isValidItems(t){return Array.isArray(t)&&!!t.length}};export{r as key_value_form,n as key_value_table}