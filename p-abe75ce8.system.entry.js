var __awaiter=this&&this.__awaiter||function(t,e,i,s){function r(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,a){function n(t){try{u(s.next(t))}catch(e){a(e)}}function o(t){try{u(s["throw"](t))}catch(e){a(e)}}function u(t){t.done?i(t.value):r(t.value).then(n,o)}u((s=s.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,r,a,n;return n={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return u([t,e])}}function u(n){if(s)throw new TypeError("Generator is already executing.");while(i)try{if(s=1,r&&(a=n[0]&2?r["return"]:n[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;if(r=0,a)n=[n[0]&2,a.value];switch(n[0]){case 0:case 1:a=n;break;case 4:i.label++;return{value:n[1],done:false};case 5:i.label++;r=n[1];n=[0];continue;case 7:n=i.ops.pop();i.trys.pop();continue;default:if(!(a=i.trys,a=a.length>0&&a[a.length-1])&&(n[0]===6||n[0]===2)){i=0;continue}if(n[0]===3&&(!a||n[1]>a[0]&&n[1]<a[3])){i.label=n[1];break}if(n[0]===6&&i.label<a[1]){i.label=a[1];a=n;break}if(a&&i.label<a[2]){i.label=a[2];i.ops.push(n);break}if(a[2])i.ops.pop();i.trys.pop();continue}n=e.call(t,i)}catch(o){n=[6,o];r=0}finally{s=a=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var s=Array(t),r=0,e=0;e<i;e++)for(var a=arguments[e],n=0,o=a.length;n<o;n++,r++)s[r]=a[n];return s};System.register(["./p-79716aa9.system.js","./p-526ef7ac.system.js","./p-afaca460.system.js"],(function(t){"use strict";var e,i,s,r,a,n,o,u,h,l,c,f,d,p;return{setters:[function(t){e=t.r;i=t.c;s=t.h;r=t.H;a=t.g},function(t){n=t.f;o=t.g;u=t.a;h=t.b;l=t.c;c=t.h;f=t.u;d=t.d},function(t){p=t.c}],execute:function(){var y="";var b=function(t){var e=t.label,i=t.value;return{key:e,value:i}};var m=t("dot_key_value",function(){function t(t){e(this,t);this.dotValueChange=i(this,"dotValueChange",7);this.dotStatusChange=i(this,"dotStatusChange",7);this.value="";this.name="";this.label="";this.hint="";this.required=false;this.requiredMessage="This field is required";this.disabled=false;this.items=[]}t.prototype.valueWatch=function(){this.value=p(this,"value","string");this.items=n(this.value).map(b)};t.prototype.reset=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.items=[];this.value="";this.status=o(this.isValid());this.emitChanges();return[2]}))}))};t.prototype.deleteItemHandler=function(t){t.stopImmediatePropagation();this.items=this.items.filter((function(e,i){return i!==t.detail}));this.refreshStatus();this.emitChanges()};t.prototype.addItemHandler=function(t){var e=t.detail;this.items=__spreadArrays(this.items,[e]);this.refreshStatus();this.emitChanges()};t.prototype.componentWillLoad=function(){this.validateProps();this.setOriginalStatus();this.emitStatusChange()};t.prototype.render=function(){var t=u(this.status,this.isValid(),this.required);return s(r,{class:Object.assign({},t)},s("dot-label",{"aria-describedby":c(this.hint),tabIndex:this.hint?0:null,label:this.label,required:this.required,name:this.name},s("key-value-form",{onLostFocus:this.blurHandler.bind(this),"add-button-label":this.formAddButtonLabel,disabled:this.isDisabled(),"key-label":this.formKeyLabel,"key-placeholder":this.formKeyPlaceholder,"value-label":this.formValueLabel,"value-placeholder":this.formValuePlaceholder}),s("key-value-table",{onClick:function(t){t.preventDefault()},"button-label":this.listDeleteLabel,disabled:this.isDisabled(),items:this.items})),l(this.hint),h(this.showErrorMessage(),this.getErrorMessage()))};t.prototype.isDisabled=function(){return this.disabled||null};t.prototype.blurHandler=function(){if(!this.status.dotTouched){this.status=f(this.status,{dotTouched:true});this.emitStatusChange()}};t.prototype.validateProps=function(){this.valueWatch()};t.prototype.setOriginalStatus=function(){this.status=o(this.isValid())};t.prototype.isValid=function(){return!(this.required&&!this.items.length)};t.prototype.showErrorMessage=function(){return this.getErrorMessage()&&!this.status.dotPristine};t.prototype.getErrorMessage=function(){return this.isValid()?"":this.requiredMessage};t.prototype.refreshStatus=function(){this.status=f(this.status,{dotTouched:true,dotPristine:false,dotValid:this.isValid()})};t.prototype.emitStatusChange=function(){this.dotStatusChange.emit({name:this.name,status:this.status})};t.prototype.emitValueChange=function(){var t=d(this.items);this.dotValueChange.emit({name:this.name,value:t})};t.prototype.emitChanges=function(){this.emitStatusChange();this.emitValueChange()};Object.defineProperty(t.prototype,"el",{get:function(){return a(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{value:["valueWatch"]}},enumerable:false,configurable:true});return t}());m.style=y}}}));