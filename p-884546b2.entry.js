import{r as t,c as s,h as i,H as e,g as h}from"./p-ca5d1561.js";import{g as a,f as o,a as n,b as c,c as l,h as r,j as d,k as u,u as m}from"./p-3163a9f0.js";import{c as p}from"./p-a2039f2e.js";import{g as b,s as x}from"./p-aff2a700.js";const f=class{constructor(i){t(this,i),this.dotValueChange=s(this,"dotValueChange",7),this.dotStatusChange=s(this,"dotStatusChange",7),this.name="",this.label="",this.hint="",this.options="",this.required=!1,this.disabled=!1,this.requiredMessage="This field is required",this.value=""}componentWillLoad(){this.value=this.value||"",this.validateProps(),this.emitValueChange(),this.status=a(this.isValid()),this.emitStatusChange()}componentDidLoad(){const t=["dottype"],s=this.el.querySelectorAll('input[type="checkbox"]');setTimeout(()=>{const i=b(Array.from(this.el.attributes),t);s.forEach(t=>{x(t,i)})},0)}optionsWatch(){const t=p(this,"options");this._options=o(t)}valueWatch(){this.value=this.value||""}async reset(){this.value="",this.status=a(this.isValid()),this.emitValueChange(),this.emitStatusChange()}render(){const t=n(this.status,this.isValid(),this.required);return i(e,{class:Object.assign({},t)},i("dot-label",{label:this.label,required:this.required,name:this.name},i("div",{"aria-describedby":r(this.hint),tabIndex:this.hint?0:null,class:"dot-checkbox__items"},this._options.map(t=>{const s=t.value.trim();return i("label",null,i("input",{class:d(this.isValid()),name:u(this.name),type:"checkbox",disabled:this.disabled||null,checked:this.value.indexOf(s)>=0||null,onInput:t=>this.setValue(t),value:s}),t.label)}))),l(this.hint),c(!this.isValid(),this.requiredMessage))}validateProps(){this.optionsWatch()}setValue(t){this.value=this.getValueFromCheckInputs(t.target.value.trim(),t.target.checked),this.status=m(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()}),this.emitValueChange(),this.emitStatusChange()}getValueFromCheckInputs(t,s){const i=this.value.trim().length?this.value.split(","):[],e=new Set(i);return s?e.add(t):e.delete(t),Array.from(e).join(",")}emitStatusChange(){this.dotStatusChange.emit({name:this.name,status:this.status})}isValid(){return!this.required||!!this.value}emitValueChange(){this.dotValueChange.emit({name:this.name,value:this.value})}get el(){return h(this)}static get watchers(){return{options:["optionsWatch"],value:["valueWatch"]}}};f.style=".dot-checkbox__items{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.dot-checkbox__items label{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.dot-checkbox__items input{margin:0 0.25rem 0 0}";export{f as dot_checkbox}