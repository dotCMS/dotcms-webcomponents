import{r as s,c as t,h as i,H as h,g as a}from"./p-ca5d1561.js";import{g as e,f as o,a as r,b as n,c as l,h as c,j as d,k as u,u as m}from"./p-3163a9f0.js";import{c as p}from"./p-a2039f2e.js";import{g as f,s as g}from"./p-aff2a700.js";const b=class{constructor(i){s(this,i),this.dotValueChange=t(this,"dotValueChange",7),this.dotStatusChange=t(this,"dotStatusChange",7),this.value="",this.name="",this.label="",this.hint="",this.options="",this.required=!1,this.requiredMessage="This field is required",this.disabled=!1,this._dotTouched=!1,this._dotPristine=!0}componentWillLoad(){this.validateProps(),this.emitInitialValue(),this.status=e(this.isValid()),this.emitStatusChange()}optionsWatch(){const s=p(this,"options");this._options=o(s)}async reset(){this.value="",this.status=e(this.isValid()),this.emitInitialValue(),this.emitStatusChange()}componentDidLoad(){const s=this.el.querySelector("select");setTimeout(()=>{const t=f(Array.from(this.el.attributes),[]);g(s,t)},0)}render(){const s=r(this.status,this.isValid(),this.required);return i(h,{class:Object.assign({},s)},i("dot-label",{label:this.label,required:this.required,name:this.name},i("select",{"aria-describedby":c(this.hint),class:d(this.status.dotValid),id:u(this.name),disabled:this.shouldBeDisabled(),onChange:s=>this.setValue(s)},this._options.map(s=>i("option",{selected:this.value===s.value||null,value:s.value},s.label)))),l(this.hint),n(!this.isValid(),this.requiredMessage))}validateProps(){this.optionsWatch()}shouldBeDisabled(){return!!this.disabled||null}setValue(s){this.value=s.target.value,this.status=m(this.status,{dotTouched:!0,dotPristine:!1,dotValid:this.isValid()}),this.emitValueChange(),this.emitStatusChange()}emitInitialValue(){this.value||(this.value=this._options.length?this._options[0].value:"",this.emitValueChange())}emitStatusChange(){this.dotStatusChange.emit({name:this.name,status:this.status})}isValid(){return!this.required||!!this.value}emitValueChange(){this.dotValueChange.emit({name:this.name,value:this.value})}get el(){return a(this)}static get watchers(){return{options:["optionsWatch"]}}};b.style="";export{b as dot_select}